<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to correctly install Python applications & libraries | Sol's Blog</title><meta name=keywords content="python,python3,pypi,pip,pip3,pipx"><meta name=description content="It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.
In this guide I will outline the best way to install Python applications & libraries from PyPI without breaking your system and causing a dependency hell."><meta name=author content="Amarpreet Singh"><link rel=canonical href=https://solamarpreet.github.io/posts/installingpythonapps/><link crossorigin=anonymous href=/assets/css/stylesheet.min.319e11eebc510fd63c9cc981ef02f38b15b0ba0f9549c0e56a037458bb29fbbe.css integrity="sha256-MZ4R7rxRD9Y8nMmB7wLzixWwug+VScDlagN0WLsp+74=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://solamarpreet.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://solamarpreet.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://solamarpreet.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://solamarpreet.github.io/apple-touch-icon.png><link rel=mask-icon href=https://solamarpreet.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to correctly install Python applications & libraries"><meta property="og:description" content="It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.
In this guide I will outline the best way to install Python applications & libraries from PyPI without breaking your system and causing a dependency hell."><meta property="og:type" content="article"><meta property="og:url" content="https://solamarpreet.github.io/posts/installingpythonapps/"><meta property="og:image" content="https://solamarpreet.github.io/solpic.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-09T11:49:39+05:30"><meta property="article:modified_time" content="2022-04-09T11:49:39+05:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://solamarpreet.github.io/solpic.jpeg"><meta name=twitter:title content="How to correctly install Python applications & libraries"><meta name=twitter:description content="It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.
In this guide I will outline the best way to install Python applications & libraries from PyPI without breaking your system and causing a dependency hell."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Latest Posts","item":"https://solamarpreet.github.io/posts/"},{"@type":"ListItem","position":3,"name":"How to correctly install Python applications \u0026 libraries","item":"https://solamarpreet.github.io/posts/installingpythonapps/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to correctly install Python applications \u0026 libraries","name":"How to correctly install Python applications \u0026 libraries","description":"It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.\nIn this guide I will outline the best way to install Python applications \u0026amp; libraries from PyPI without breaking your system and causing a dependency hell.","keywords":["python","python3","pypi","pip","pip3","pipx"],"articleBody":"It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.\nIn this guide I will outline the best way to install Python applications \u0026 libraries from PyPI without breaking your system and causing a dependency hell.\nIs the program I am about to install an application or a library? In the context of installation we define an application as a Python program which exposes a user interface that can be interacted with. For eg. mitmproxy and dockersh both offer a CLI when called from the terminal which you can use in real time to complete tasks.\nLibraries on the other hand are the building blocks of above mentioned applications. They are usually installed on their own only when developing applications or building other libraries. For e.g requests and boto3 can only be imported from within a Python program. Calling them from the terminal serves no purpose.\nSometimes a downloadable package exposes a CLI but also pulls in libraries that you can use in your programs to build new tools. Examples of such hybrid packages are Impacket. When dealing with such a package you should look at the purpose you require the package for. Do you wish to use it’s CLI or do you wish to use the modules it provides to build an application? Depending on this purpose the method of installation changes as described below.\nInstalling applications The best way to install Python applications going forward is using pipx. On an Ubuntu system simply type the following in the terminal\nsudo apt install python3-pip pipx python3 -m pipx ensurepath pipx allows you to run Python applications by installing them in isolated environments along with their dependencies. If your distro’s package repository doesn’t contain pipx you can visit this link and find installation instructions for your platform.\n  Apps that don’t require root privileges   Applications that don’t require root privileges can be installed using the following command\npipx install PACKAGE In the above command replace PACKAGE with the name of the package you wish to install. For eg. pipx install mitmproxy\n  Apps that require root privileges   For applications that require root privileges use the following command\nsudo PIPX_HOME=/opt/pipx PIPX_BIN_DIR=/usr/local/bin pipx install PACKAGE In the above command replace PACKAGE with the name of the package you wish to install. For eg. sudo PIPX_HOME=/opt/pipx PIPX_BIN_DIR=/usr/local/bin pipx install dockersh\nInstalling libraries Since isolated installation of libraries are only really done during development you should only be installing them inside of python virtual environments. To get started we first need to install venv on our system.\nsudo apt install python3-venv \nThen we will create a new folder that will hold our project and then we will configure a virtual environment inside of it.\nmkdir myproject \u0026 cd myproject python3 -m venv myproject-venv  Be sure to add the myproject-venv/ folder to .gitignore if you are using git based workflows.\n To begin development you need to activate the virtual environment which can be done by\nsource myproject-venv/bin/activate This will change your prompt to (myproject-venv) user@mycomputer:~/myproject$ which signifies that the virtual environment is currently active.\nYou can now install any library from pip and it will be installed in the current virtual environment only without affecting your system or any other application.\npython3 -m pip install PACKAGE \nFinally when you are done with development work and wish to revert back to your regular system, simply enter deactivate at the terminal.\ndeactivate \n  Using sudo inside a virtual environment   A lot of times the application you are building or a component library requires root privileges to work correctly. In order to use sudo inside a virtual environment it has to be called differently than usual.\nsudo -s \"PATH=$PATH\" python3 main.py This will ensure that the sudo uses the current virtual environment’s Python interpreter than the system’s interpreter.\nConclusion Note that in the above commands we always invoke pip, pipx and venv as python modules like python3 -m pipx --version instead of pipx --version. Always invoke these tools in this manner as the latter method can result in unexpected behaviour sometimes. The practices described above should serve adequately for most users. They will only slightly change if you are working with pyenv or a recent version of Python that you installed on your own. If you have any queries feel free to reach out to me at solamarpreet@protonmail.com\n","wordCount":"770","inLanguage":"en","datePublished":"2022-04-09T11:49:39+05:30","dateModified":"2022-04-09T11:49:39+05:30","author":{"@type":"Person","name":"Amarpreet Singh"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://solamarpreet.github.io/posts/installingpythonapps/"},"publisher":{"@type":"Organization","name":"Sol's Blog","logo":{"@type":"ImageObject","url":"https://solamarpreet.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://solamarpreet.github.io accesskey=h title="Sol's Blog (Alt + H)">Sol's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><ul class="menu hidden"><li><a href=https://solamarpreet.github.io/posts title=Posts><span>Posts</span></a></li><li><a href=https://solamarpreet.github.io/series title=Guides><span>Guides</span></a></li><li><a href=https://solamarpreet.github.io/projects title="My Projects"><span>My Projects</span></a></li><li><a href=https://solamarpreet.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://solamarpreet.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to correctly install Python applications & libraries</h1><div class=post-meta><span title="2022-04-09 11:49:39 +0530 +0530">April 9, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Amarpreet Singh</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#is-the-program-i-am-about-to-install-an-application-or-a-library aria-label="Is the program I am about to install an application or a library?">Is the program I am about to install an application or a library?</a></li><li><a href=#installing-applications aria-label="Installing applications">Installing applications</a><ul><li><a href=#apps-that-dont-require-root-privileges aria-label="Apps that don&amp;rsquo;t require root privileges">Apps that don&rsquo;t require root privileges</a></li><li><a href=#apps-that-require-root-privileges aria-label="Apps that require root privileges">Apps that require root privileges</a></li></ul></li><li><a href=#installing-libraries aria-label="Installing libraries">Installing libraries</a><ul><li><a href=#using-sudo-inside-a-virtual-environment aria-label="Using sudo inside a virtual environment">Using sudo inside a virtual environment</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>It is well known that Python has a problem when it comes to installation of applications since shared libraries can sometimes have significant API changes from one version to another. Added to the complication is the fact that many linux based distros have a preinstalled version of Python that comes with old versions of certain libraries that if overwritten can affect OS stability.</p><p>In this guide I will outline the best way to install Python applications & libraries from PyPI without breaking your system and causing a dependency hell.</p><br><h2 id=is-the-program-i-am-about-to-install-an-application-or-a-library>Is the program I am about to install an application or a library?<a hidden class=anchor aria-hidden=true href=#is-the-program-i-am-about-to-install-an-application-or-a-library>#</a></h2><p>In the context of installation we define an application as a Python program which exposes a user interface that can be interacted with. For eg. <code>mitmproxy</code> and <code>dockersh</code> both offer a CLI when called from the terminal which you can use in real time to complete tasks.</p><p>Libraries on the other hand are the building blocks of above mentioned applications. They are usually installed on their own only when developing applications or building other libraries. For e.g <code>requests</code> and <code>boto3</code> can only be imported from within a Python program. Calling them from the terminal serves no purpose.</p><p>Sometimes a downloadable package exposes a CLI but also pulls in libraries that you can use in your programs to build new tools. Examples of such hybrid packages are <code>Impacket</code>. When dealing with such a package you should look at the purpose you require the package for. Do you wish to use it&rsquo;s CLI or do you wish to use the modules it provides to build an application? Depending on this purpose the method of installation changes as described below.</p><br><h2 id=installing-applications>Installing applications<a hidden class=anchor aria-hidden=true href=#installing-applications>#</a></h2><p>The best way to install Python applications going forward is using <code>pipx</code>. On an Ubuntu system simply type the following in the terminal</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt install python3-pip pipx
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>python3 -m pipx ensurepath
</span></span></code></pre></div><p><code>pipx</code> allows you to run Python applications by installing them in isolated environments along with their dependencies. If your distro&rsquo;s package repository doesn&rsquo;t contain <code>pipx</code> you can visit this <a href=https://pypa.github.io/pipx/installation/>link</a> and find installation instructions for your platform.</p><ul><li><h3 id=apps-that-dont-require-root-privileges>Apps that don&rsquo;t require root privileges<a hidden class=anchor aria-hidden=true href=#apps-that-dont-require-root-privileges>#</a></h3></li></ul><p>Applications that don&rsquo;t require root privileges can be installed using the following command</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>pipx install PACKAGE
</span></span></code></pre></div><p>In the above command replace <code>PACKAGE</code> with the name of the package you wish to install. For eg. <code>pipx install mitmproxy</code></p><ul><li><h3 id=apps-that-require-root-privileges>Apps that require root privileges<a hidden class=anchor aria-hidden=true href=#apps-that-require-root-privileges>#</a></h3></li></ul><p>For applications that require root privileges use the following command</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo PIPX_HOME<span style=color:#f92672>=</span>/opt/pipx PIPX_BIN_DIR<span style=color:#f92672>=</span>/usr/local/bin pipx install PACKAGE
</span></span></code></pre></div><p>In the above command replace <code>PACKAGE</code> with the name of the package you wish to install. For eg. <code>sudo PIPX_HOME=/opt/pipx PIPX_BIN_DIR=/usr/local/bin pipx install dockersh</code></p><br><h2 id=installing-libraries>Installing libraries<a hidden class=anchor aria-hidden=true href=#installing-libraries>#</a></h2><p>Since isolated installation of libraries are only really done during development you should only be installing them inside of python virtual environments. To get started we first need to install <code>venv</code> on our system.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt install python3-venv
</span></span></code></pre></div><br><p>Then we will create a new folder that will hold our project and then we will configure a virtual environment inside of it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mkdir myproject &amp; cd myproject
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>python3 -m venv myproject-venv
</span></span></code></pre></div><blockquote><p><em>Be sure to add the <code>myproject-venv/</code> folder to <code>.gitignore</code> if you are using git based workflows.</em></p></blockquote><br><p>To begin development you need to activate the virtual environment which can be done by</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>source myproject-venv/bin/activate
</span></span></code></pre></div><p>This will change your prompt to <code>(myproject-venv) user@mycomputer:~/myproject$</code> which signifies that the virtual environment is currently active.</p><br><p>You can now install any library from pip and it will be installed in the current virtual environment only without affecting your system or any other application.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>python3 -m pip install PACKAGE
</span></span></code></pre></div><br><p>Finally when you are done with development work and wish to revert back to your regular system, simply enter <code>deactivate</code> at the terminal.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>deactivate
</span></span></code></pre></div><br><ul><li><h3 id=using-sudo-inside-a-virtual-environment>Using sudo inside a virtual environment<a hidden class=anchor aria-hidden=true href=#using-sudo-inside-a-virtual-environment>#</a></h3></li></ul><p>A lot of times the application you are building or a component library requires root privileges to work correctly. In order to use <code>sudo</code> inside a virtual environment it has to be called differently than usual.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo -s <span style=color:#e6db74>&#34;PATH=</span>$PATH<span style=color:#e6db74>&#34;</span> python3 main.py
</span></span></code></pre></div><p>This will ensure that the sudo uses the current virtual environment&rsquo;s Python interpreter than the system&rsquo;s interpreter.</p><br><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Note that in the above commands we always invoke <code>pip</code>, <code>pipx</code> and <code>venv</code> as python modules like <code>python3 -m pipx --version</code> instead of <code>pipx --version</code>. Always invoke these tools in this manner as the latter method can result in unexpected behaviour sometimes. The practices described above should serve adequately for most users. They will only slightly change if you are working with <code>pyenv</code> or a recent version of Python that you installed on your own. If you have any queries feel free to reach out to me at <a href=mailto:solamarpreet@protonmail.com>solamarpreet@protonmail.com</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://solamarpreet.github.io/tags/python/>python</a></li><li><a href=https://solamarpreet.github.io/tags/python3/>python3</a></li><li><a href=https://solamarpreet.github.io/tags/pypi/>pypi</a></li><li><a href=https://solamarpreet.github.io/tags/pip/>pip</a></li><li><a href=https://solamarpreet.github.io/tags/pip3/>pip3</a></li><li><a href=https://solamarpreet.github.io/tags/pipx/>pipx</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://solamarpreet.github.io>Sol's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/solamarpreet rel=noopener target=_blank>GitHub</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let b=document.querySelector("#menu-trigger"),m=document.querySelector(".menu");b.addEventListener("click",function(){m.classList.toggle("hidden")}),document.body.addEventListener("click",function(e){b.contains(e.target)||m.classList.add("hidden")}),document.querySelector("#cd").innerText=(new Date).getFullYear()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>